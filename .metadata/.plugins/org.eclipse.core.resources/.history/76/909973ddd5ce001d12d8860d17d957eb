package com.generation.blogpessoal.controller;

import static org.junit.jupiter.api.Assertions.assertEquals;

import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestInstance;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;

import com.generation.blogpessoal.model.Usuario;
import com.generation.blogpessoal.repository.UsuarioRepository;
import com.generation.blogpessoal.service.UsuarioService;

@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@TestInstance(TestInstance.Lifecycle.PER_CLASS)
public class UsuarioControllerTest {

	@Autowired
	private TestRestTemplate testRestTemplate;

	@Autowired
	private UsuarioService usuarioService;

	@Autowired
	private UsuarioRepository usuarioRepository;

	@BeforeAll
	void start() {

		usuarioRepository.deleteAll();

		usuarioService.cadastrarUsuario(new Usuario(0L, "Root", "root@root.com", "rootroot", " "));
	}
	
	@Test
	@DisplayName("Cadastrar Um Usuario")
	public void deveCriarUmUsuario() {
		HttpEntity<Usuario> corpoRequisicao = new HttpEntity<Usuario>(new Usuario(0L, 
				"Roberto de Arag√£o", "roberto.aragao@gmail.com", "abcdefghi",
				"data:image/jpeg;base64,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"));

		ResponseEntity<Usuario> corpoResposta = testRestTemplate
				.exchange("/usuarios/cadastrar", HttpMethod.POST, corpoRequisicao, Usuario.class);

		assertEquals(HttpStatus.CREATED, corpoResposta.getStatusCode());
		assertEquals(corpoRequisicao.getBody().getNome(), corpoResposta.getBody().getNome());
		assertEquals(corpoRequisicao.getBody().getUsuario(), corpoResposta.getBody().getUsuario());
	}
	
	@Test
	@DisplayName("N√£o deve permitir duplicacao do Usuario")
	public void naoDeveDuplicarUsuario() {

		usuarioService.cadastrarUsuario(new Usuario(0L, 
				"Maria Silva", "maria_silva@gmail.com", "12345678",
				"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0FIcg-5V8P6AoKMix-wxAE1dNhPjaT-XQxw&usqp=CAU"));
		
		HttpEntity<Usuario> corpoRequisicao = new HttpEntity<Usuario>(new Usuario(0L, 
				"Maria Silva", "maria_silva@gmail.com", "12345678",
				"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0FIcg-5V8P6AoKMix-wxAE1dNhPjaT-XQxw&usqp=CAU"));
		
		ResponseEntity<Usuario> corpoResposta = testRestTemplate
				.exchange("/usuarios/cadastrar", HttpMethod.POST, corpoRequisicao, Usuario.class);
		
		assertEquals(HttpStatus.BAD_REQUEST, corpoResposta.getStatusCode());
	}
}
